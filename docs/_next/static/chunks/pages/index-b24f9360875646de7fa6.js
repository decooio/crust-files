(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{86107:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return T}});var i=n(52209),s=n(30266),a=n(809),r=n.n(a),o=n(8736),c=n(28803),l=n(94184),h=n.n(l),u=n(23499),p=n(67294),d=function(){};d.prototype.init=function(t,e){return this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.particleNetwork=new v(this,e),this};var f=function(t,e,n){this.isFocus=!1,this.network=t,this.canvas=t.canvas,this.ctx=t.ctx,this.particleColor=x(this.network.options.particleColors),this.radius=m(1.5,2.5),this.opacity=0,this.x=e||Math.random()*this.canvas.width,this.y=n||Math.random()*this.canvas.height,this.velocity={x:(Math.random()-.5)*t.options.velocity,y:(Math.random()-.5)*t.options.velocity}};f.prototype.update=function(){this.opacity<1?this.opacity+=.01:this.opacity=1,(this.x>this.canvas.width+100||this.x<-100)&&(this.velocity.x=-this.velocity.x),(this.y>this.canvas.height+100||this.y<-100)&&(this.velocity.y=-this.velocity.y),this.x+=this.velocity.x,this.y+=this.velocity.y},f.prototype.draw=function(){this.ctx.beginPath(),this.ctx.fillStyle=this.particleColor,this.ctx.globalAlpha=this.opacity,this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fill()};var v=function(t,e){this.options={velocity:.5,density:13e3,netLineDistance:220,netLineDistanceFocus:300,netLineColor:"#999999",netLineColorFocus:"#999999",particleColors:["#888888"]},this.canvas=t.canvas,this.ctx=t.ctx,this.et=e,this.init()};v.prototype.init=function(){this.createParticles(!0),this.animationFrame=requestAnimationFrame(this.update.bind(this)),this.bindUiActions()},v.prototype.createParticles=function(t){var e=this;this.particles=[];var n=this.canvas.width*this.canvas.height/this.options.density;if(t){var i=0;clearInterval(this.createIntervalId);for(var s=0;s<n;s++)this.particles.push(new f(this));this.createIntervalId=setInterval(function(){i<n-1?this.particles.push(new f(this)):clearInterval(e.createIntervalId),i++}.bind(this),250)}else for(var a=0;a<n;a++)this.particles.push(new f(this))},v.prototype.createInteractionParticle=function(){return this.interactionParticle=new f(this),this.interactionParticle.isFocus=!0,this.interactionParticle.velocity={x:0,y:0},this.particles.push(this.interactionParticle),this.interactionParticle},v.prototype.removeInteractionParticle=function(){var t=this.particles.indexOf(this.interactionParticle);t>-1&&(this.interactionParticle=void 0,this.particles.splice(t,1))},v.prototype.update=function(){if(this.canvas){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalAlpha=1;for(var t=0;t<this.particles.length;t++)for(var e=this.particles[t],n=this.particles.length-1;n>t;n--){var i,s=this.particles[n],a=e.isFocus||s.isFocus,r=a?this.options.netLineDistanceFocus:this.options.netLineDistance,o=a?this.options.netLineColorFocus:this.options.netLineColor,c=Math.abs(e.x-s.x),l=Math.abs(e.y-s.y);Math.max(c,l)>r||((i=Math.sqrt(Math.pow(c,2)+Math.pow(l,2)))>r||(this.ctx.beginPath(),this.ctx.strokeStyle=o,this.ctx.globalAlpha=(r-i)/r*e.opacity*s.opacity,this.ctx.lineWidth=.7,this.ctx.moveTo(e.x,e.y),this.ctx.lineTo(s.x,s.y),this.ctx.stroke()))}for(var h=0;h<this.particles.length;h++)this.particles[h].update(),this.particles[h].draw();0!==this.options.velocity&&(this.animationFrame=requestAnimationFrame(this.update.bind(this)))}else cancelAnimationFrame(this.animationFrame)},v.prototype.bindUiActions=function(){this.spawnQuantity=3,this.mouseIsDown=!1,this.touchIsMoving=!1,this.onMouseMove=function(t){this.interactionParticle||this.createInteractionParticle(),this.interactionParticle.x=t.clientX,this.interactionParticle.y=t.clientY}.bind(this),this.onTouchMove=function(t){this.touchIsMoving=!0,this.interactionParticle||this.createInteractionParticle(),this.interactionParticle.x=t.changedTouches[0].clientX,this.interactionParticle.y=t.changedTouches[0].clientY}.bind(this),this.onMouseDown=function(t){this.mouseIsDown=!0;var e=0,n=this.spawnQuantity,i=setInterval(function(){if(this.mouseIsDown){1===e&&(n=1);for(var t=0;t<n;t++)this.interactionParticle&&this.particles.push(new f(this,this.interactionParticle.x,this.interactionParticle.y))}else clearInterval(i);e++}.bind(this),50)}.bind(this),this.onTouchStart=function(t){setTimeout(function(){if(!this.touchIsMoving)for(var e=0;e<this.spawnQuantity;e++)this.particles.push(new f(this,t.changedTouches[0].clientX,t.changedTouches[0].clientY))}.bind(this),200)}.bind(this),this.onMouseUp=function(t){this.mouseIsDown=!1}.bind(this),this.onMouseOut=function(t){this.removeInteractionParticle()}.bind(this),this.onTouchEnd=function(t){this.touchIsMoving=!1,this.removeInteractionParticle()}.bind(this),console.info("---setMouseLis--\x3e",this.et),this.et.addEventListener("mousemove",this.onMouseMove),this.et.addEventListener("touchmove",this.onTouchMove),this.et.addEventListener("mouseup",this.onMouseUp),this.et.addEventListener("mouseout",this.onMouseOut),this.et.addEventListener("touchend",this.onTouchEnd)},v.prototype.unbindUiActions=function(){this.et&&(this.et.removeEventListener("mousemove",this.onMouseMove),this.et.removeEventListener("touchmove",this.onTouchMove),this.et.removeEventListener("mouseup",this.onMouseUp),this.et.removeEventListener("mouseout",this.onMouseOut),this.et.removeEventListener("touchend",this.onTouchEnd))};var m=function(t,e,n){var i=Math.random()*(e-t)+t;return n&&(i=Math.round(i)),i},x=function(t){return t[Math.floor(Math.random()*t.length)]},g=new d;var w=n(85893);function b(){var t=(0,p.useRef)(),e=(0,p.useRef)();return(0,p.useEffect)((function(){var t,n,i;return e.current&&(n=e.current,i=document.body,t=g.init(n,i),window.__bgAnim=t,console.info("---initBgAnim--\x3e")),function(){console.info("---DestroyAnim--\x3e"),function(t){t&&t.particleNetwork.unbindUiActions()}(t)}}),[e.current]),(0,p.useEffect)((function(){if(t.current&&e.current){var n=e.current.offsetWidth,i=e.current.offsetHeight,s=setInterval((function(){var e,s,a=n!==t.current.offsetWidth||i!==t.current.offsetHeight;a&&(n=t.current.offsetWidth,i=t.current.offsetHeight,e=n,s=i,g.particleNetwork.removeInteractionParticle(),g.ctx.clearRect(0,0,g.canvas.width,g.canvas.height),g.canvas.width=e,g.canvas.height=s,g.particleNetwork.createParticles(),console.info("---\x3e",a))}),1e3);return function(){clearInterval(s)}}}),[t.current,e.current]),(0,w.jsx)("div",{ref:t,style:{position:"absolute",width:"100vw",height:"100vh",zIndex:-1,background:"rgb(45,45,45)"},children:(0,w.jsx)("canvas",{ref:e})})}var y=n(83789),k=n(68216),I=n(92809),M=function t(){(0,k.Z)(this,t),(0,I.Z)(this,"value",!1)};var C,P=n(99816),L=n(48278),E=n(29163),N=n(12752),j=n(21994).Cypher;var T=p.memo((0,E.ZP)((function(t){var e=t.className,n=(0,u.$)().t,i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=(0,p.useMemo)((function(){for(var t=[],n=0;n<e;n++)t.push(new M);return t}),[e]),a=(0,p.useState)(i),o=a[0],c=a[1];return(0,p.useEffect)((function(){var t=e+1,n=setInterval((0,s.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>=i.length)){e.next=3;break}return t-=1,e.abrupt("return");case 3:if(!(t<0)){e.next=6;break}return clearInterval(n),e.abrupt("return");case 6:i[t].value=!0,c((0,y.Z)(i)),t-=1;case 9:case"end":return e.stop()}}),e)}))),100);return function(){return clearInterval(n)}}),[i,t,e].concat((0,y.Z)(n))),(0,p.useMemo)((function(){return{data:o}}),[o])}(120,7).data,a=(0,P.WY)(),l=(0,p.useContext)(N.I).alert,d=(0,p.useCallback)((0,s.Z)(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.crust.init();case 3:if(a.crust.provider){t.next=5;break}return t.abrupt("return",l.alert({msg:"Need install crust wallet",type:"error"}));case 5:return t.next=7,a.crust.login();case 7:(e=t.sent).length>0&&a.setLoginUser({account:e[0],wallet:"crust"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),l.alert({msg:"Error",type:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[a,n,l]),f=(0,p.useCallback)((0,s.Z)(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.polkadotJs.init();case 3:if(a.polkadotJs.provider){t.next=5;break}return t.abrupt("return",l.alert({msg:"Need install polkadot-js wallet",type:"error"}));case 5:return t.next=7,a.polkadotJs.login();case 7:(e=t.sent).length>0&&a.setLoginUser({account:e[0],wallet:"polkadot-js"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),l.alert({msg:"Error",type:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[a,n,l]),v=(0,p.useCallback)((0,s.Z)(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.metamask.init();case 2:if(n=null===(e=a.metamask.ethereum)||void 0===e?void 0:e.request,!a.metamask.isInstalled||!n){t.next=7;break}n({method:"eth_requestAccounts"}).then((function(t){var e;console.info("accounts:",t);var n=null===(e=a.metamask.ethereum)||void 0===e?void 0:e.selectedAddress;n&&t.includes(n)?a.setLoginUser({account:n,wallet:"metamask"}):t.length&&a.setLoginUser({account:t[0],wallet:"metamask"})})).catch((function(t){console.error("accountsError:",t)})),t.next=8;break;case 7:return t.abrupt("return",l.alert({msg:"Need install Metamask",type:"error"}));case 8:case"end":return t.stop()}}),t)}))),[a,n,l]),m=(0,p.useCallback)((0,s.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.near.init();case 2:if(a.near.wallet){t.next=4;break}return t.abrupt("return",l.alert({msg:"Not Create NearConnection",type:"error"}));case 4:return t.next=6,a.near.wallet.requestSignIn(L.h.contractName,"Crust Files");case 6:case"end":return t.stop()}}),t)}))),[a,n,l]),x=(0,p.useCallback)((0,s.Z)(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.flow.init();case 2:if(e=a.flow.fcl){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.currentUser().snapshot();case 7:if((n=t.sent).loggedIn){t.next=11;break}return t.next=11,e.authenticate();case 11:return t.next=13,e.currentUser().snapshot();case 13:n=t.sent,a.setLoginUser({account:n.addr,wallet:"flow"});case 15:case"end":return t.stop()}}),t)}))),[a]),g=(0,p.useCallback)((0,s.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.solana.init();case 2:if(a.solana.isInstalled){t.next=4;break}return t.abrupt("return",l.alert({msg:"Need install Phantom",type:"error"}));case 4:if(!a.solana.solana.isConnected){t.next=7;break}return a.setLoginUser({account:a.solana.solana.publicKey.toBase58(),wallet:"solana"}),t.abrupt("return");case 7:a.solana.solana.connect(),a.solana.solana.on("connect",(function(){a.setLoginUser({account:a.solana.solana.publicKey.toBase58(),wallet:"solana"})}));case 9:case"end":return t.stop()}}),t)}))),[a,n,l]),k=(0,p.useCallback)((0,s.Z)(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.elrond.init();case 2:return t.next=4,a.elrond.provider.login({callbackUrl:encodeURIComponent("".concat(window.location.origin,"/#/files"))});case 4:e=a.elrond.provider.account.address,a.setLoginUser({account:e,wallet:"elrond"});case 6:case"end":return t.stop()}}),t)}))),[a,n]);(0,p.useEffect)((function(){var t=new j;t.setWordLength(5);var e=t.genMnemonics(),n=e.mnemonics,i=e.secret;console.info("m:",n),console.info("s:",i)}),[]);var I=[{name:"crust wallet",image:"/images/wallet_crust.png",onClick:d},{name:"polkadot-js",image:"/images/wallet_polkadot.png",onClick:f},{name:"metamask",image:"/images/wallet_metamask.png",onClick:v},{name:"near",image:"/images/wallet_near.png",onClick:m},{name:"flow",image:"/images/wallet_flow.png",onClick:x},{name:"solana",image:"/images/wallet_solana.png",onClick:g},{name:"maiar",image:"/images/wallet_elrond.png",onClick:k}],C=(0,p.useState)(!1),E=C[0],T=C[1],_=(0,p.useState)(0),U=_[0],F=_[1];return(0,p.useEffect)((function(){var t=0,e=setInterval((function(){1===t&&(F(0),T(!0)),20===t&&T(!1),25===t&&(F(1),T(!0)),45===t&&T(!1),50===t&&(t=0),t++}),100);return function(){return clearInterval(e)}}),[]),(0,w.jsxs)("div",{className:e,children:[(0,w.jsx)(b,{}),(0,w.jsxs)("div",{className:"slog",children:[(0,w.jsx)(o.Z,{src:"/images/crust_box2x.png",className:h()("slogIcon",{slogShow:!0})}),(0,w.jsxs)("div",{className:h()("slogText",{slogShow:E}),children:[0===U&&(0,w.jsxs)("div",{className:"slogText1",children:["Enjoy storing your ",(0,w.jsx)("br",{}),"files in a ",(0,w.jsx)("span",{children:"Web3"})," style. ",(0,w.jsx)("br",{}),"Now ",(0,w.jsx)("span",{children:"free"}),"."]}),1===U&&(0,w.jsxs)("div",{className:"slogText2",children:["- Multi-wallet access",(0,w.jsx)("br",{}),"- Easily share links to friends",(0,w.jsx)("br",{}),"- Long-term storage with abundant IPFS replicas",(0,w.jsx)("br",{})]})]})]}),(0,w.jsx)("div",{className:"wallets",children:I.map((function(t,e){return(0,w.jsx)(c.Z,{position:"top center",content:t.name,trigger:(0,w.jsx)(o.Z,{className:h()({spaceLeft:e},"animStart",{animFinal:i[e].value}),circular:!0,inline:!0,size:"tiny",src:t.image,onClick:t.onClick})},"wallet_".concat(e))}))}),(0,w.jsx)("span",{className:"signTip",children:"Sign-in with a Web3 wallet"})]})}))(C||(C=(0,i.Z)(["\n\n  color: white;\n  display: flex;\n  width: 100%;\n  min-height: 600px;\n  height: 100vh;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  .slog {\n    display: flex;\n    overflow: hidden;\n    width: 875px;\n    height: 400px;\n\n    .slogIcon {\n      transition: all ease-out 300ms;\n      position: relative;\n      left: -300px;\n      margin-right: 50px;\n      width: 275px;\n      height: 255px;\n    }\n\n    .slogShow {\n      left: 0;\n      right: 0;\n      transform: translateX(0) !important;\n    }\n\n    .slogText {\n      transition: all ease-out 300ms;\n      position: relative;\n      width: 550px;\n      transform: translateX(550px);\n    }\n\n    .slogText1 {\n      font-size: 60px;\n      white-space: pre-wrap;\n      word-break: break-all;\n      line-height: 86px;\n\n      span {\n        color: orange;\n      }\n    }\n\n    .slogText2 {\n      padding-top: 40px;\n      line-height: 56px;\n      font-size: 24px;\n      white-space: pre-wrap;\n      word-break: break-all;\n    }\n\n  }\n\n  .wallets {\n    height: min-content;\n    overflow: hidden;\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 100px;\n    padding: 20px 40px;\n\n    .animStart {\n      cursor: pointer;\n      transition: all ease-out 0ms;\n      position: relative;\n      left: -515px;\n      transform: rotate(-720deg);\n\n      &:hover {\n        filter: drop-shadow(0 4px 6px white);\n      }\n    }\n\n    .spaceLeft {\n      margin-left: 18px;\n    }\n\n    .animFinal {\n      transition: all cubic-bezier(.41, .19, .21, 1.43) 1.2s;\n      left: 0;\n      transform: rotate(0deg);\n    }\n  }\n\n  .signTip {\n    line-height: 3rem;\n  }\n\n"]))))},45301:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(86107)}])}},function(t){t.O(0,[934,994,774,888,179],(function(){return e=45301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);