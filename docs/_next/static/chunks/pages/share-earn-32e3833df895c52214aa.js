(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{8670:function(n,e,t){"use strict";t.d(e,{o:function(){return d}});var r,i=t(52209),s=t(67294),a=t(29163),o=t(94184),c=t.n(o),l=t(85893);var d=s.memo((0,a.ZP)((function(n){var e=n.className,t=n.children;return(0,l.jsx)("div",{className:c()(e,"mcard"),children:t})}))(r||(r=(0,i.Z)(["\n    padding: 1.71rem !important;\n    box-shadow: 0 0.71rem 1.71rem 0 rgba(0, 0, 0, 0.06) !important;\n    border-radius: 1.14rem !important;\n    border: 0.07rem solid #EEEEEE !important;\n    margin: 2.21rem 2.29rem 0 2.39rem !important;\n  \n    .title {\n      font-size: 1.3rem !important;\n      font-weight: 600;\n      color: var(--main-color);\n      padding-bottom: 1.14rem;\n      .cru-fo {\n        margin-right: 0.8rem;\n      }\n    }\n\n    .text {\n      font-size: 1rem;\n      color: var(--secend-color);\n      line-height: 1.57rem;\n    }\n    .icon {\n      margin-left: 1rem;\n      font-size: 1.428571rem;\n      position: relative;\n      top: 3px;\n      cursor: pointer;\n    }\n    .bold-text {\n      color: var(--main-color);\n    }\n    \n    a {\n      text-decoration: underline;\n      line-height: 1.2rem;\n      cursor: pointer;\n    }\n\n    .btns {\n      margin-top: 1.7rem;\n      button:first-child {\n        margin-right: 1rem;\n      }\n    }\n"]))))},34111:function(n,e,t){"use strict";t.d(e,{X:function(){return i}});var r=t(67294);function i(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(0,r.useState)(),i=t[0],s=t[1];(0,r.useEffect)((function(){a()}),e);var a=function(){e.length&&e.some((function(n){return!n}))||n().then(s).catch(console.error)};return[i,a]}},12107:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return z}});var r,i=t(52209),s=t(80318),a=t(67294),o=t(23499),c=t(35766),l=t(29163),d=t(60954),u=t(92809),m=t(10219),f=t(94184),p=t.n(f),h=t(21004),g=t(65058),b=t(85893),v=["className","title","defActive","content"];function j(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function x(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?j(Object(t),!0).forEach((function(e){(0,u.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var w=a.memo((0,l.ZP)((function(n){var e=n.className,t=n.title,r=n.defActive,i=void 0!==r&&r,a=n.content,o=(0,m.Z)(n,v),c=(0,g.O)(i),l=(0,s.Z)(c,2),d=l[0],u=l[1];return(0,b.jsxs)(h.Z,x(x({className:e},o),{},{children:[(0,b.jsx)(h.Z.Title,{active:d,onClick:function(){return u()},children:(0,b.jsxs)("div",{className:"title font-sans-semibold",children:[t,(0,b.jsx)("span",{className:p()("icon",d?"cru-fo-chevron-up":"cru-fo-chevron-down")})]})}),(0,b.jsx)(h.Z.Content,{active:d,children:a})]}))}))(r||(r=(0,i.Z)(["\n\n"])))),O=t(8670),y=t(60649),N=t(43913),P=t(12752),E=t(96705),Z=t(75282);function C(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function R(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?C(Object(t),!0).forEach((function(e){(0,u.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var S,_=t(34111),k=t(45129),D=t(99056);var z=a.memo((0,l.ZP)((function(n){var e=n.className,t=(0,o.$)().t,r=(0,E.WY)(),i="crust"===r.wallet,l=(0,_.X)((function(){return(0,k.Y1)(r.account)}),[r.account]),u=(0,s.Z)(l,2),m=u[0],f=(u[1],m&&m.deposit&&m.deposit.id),p=i&&(r.member&&1===r.member.member_state||f),h=function(){var n=(0,P.qD)(),e=n.api,t=n.alert,r=n.loading,i=(0,E.WY)(),s=(0,a.useState)(!1),o=s[0],c=s[1],l=(0,a.useState)(!1),d=l[0],u=l[1];return(0,a.useEffect)((function(){c(!1),i.account&&"crust"===i.wallet&&e&&i.crust.wallet&&c(!0)}),[e,i]),{start:function(){if(o){r.show(),u(!1);var n=R(R({},i.crust.wallet.signer),{},{signPayload:function(n){return console.info("payload:",n),i.crust.wallet.signer.signPayload(n)}});e.setSigner(n),e.tx.system.remark(JSON.stringify({scope:"crustFiles",env:Z.g6,action:"claimRewards"})).signAndSend(i.account,{nonce:-1,tip:0},(function(n){e.setSigner(void 0),n.status.isInBlock&&(r.hide(),u(!0))})).catch((function(n){"string"===typeof n?t.error(n):console.error(n),r.hide()}))}},ready:o,finish:d}}(),g=(0,_.X)((function(){return(0,k.rS)(r.account)}),[r.account]),v=(0,s.Z)(g,2),j=v[0],x=v[1];(0,a.useEffect)((function(){x()}),[h.finish]);var C=j&&j.pendingReward,S=(0,a.useMemo)((function(){return(0,D.vr)("".concat((null===j||void 0===j?void 0:j.pendingReward)||"0"))}),[j]),z=(0,a.useMemo)((function(){return(0,D.vr)("".concat((null===j||void 0===j?void 0:j.claimedReward)||"0"))}),[j]),M=(0,a.useMemo)((function(){return j&&j.totalInvition}),[j]),U=h.finish||j&&j.claimOngoing,X=!h.ready||!C||U;return(0,b.jsx)(y.Z,{path:"/share-earn",children:(0,b.jsxs)(c.Z,{basic:!0,className:e,children:[(0,b.jsx)(N.Z,{}),(0,b.jsxs)(c.Z,{basic:!0,className:"mcontent",children:[(0,b.jsxs)("div",{className:"share-and-earn",children:[(0,b.jsx)("img",{src:"/images/share_earn2.png"}),(0,b.jsxs)("div",{className:"text",children:["Share files to your friends and invite them to use ",(0,b.jsx)("span",{children:"Crust Files"}),". Enjoy and Earn ",(0,b.jsx)("span",{children:"$CRU"})," !!!"]})]}),(0,b.jsx)(O.o,{children:(0,b.jsx)(w,{title:"How to Share-and-Earn?"})}),(0,b.jsx)(O.o,{children:(0,b.jsx)(w,{title:"Learn about more detailed rules"})}),(0,b.jsx)(O.o,{children:(0,b.jsx)(w,{title:"Get Crust Wallet and CRU"})}),p&&(0,b.jsxs)(O.o,{children:[(0,b.jsx)("div",{className:"title font-sans-semibold",children:t("My REwards")}),(0,b.jsxs)("div",{className:"text font-sans-regular",children:["Pending Claim Rewards : ",(0,b.jsx)("span",{className:"b-text",children:"".concat(S," CRU")}),"Claimed Rewards : ",(0,b.jsx)("span",{className:"b-text",children:"".concat(z," CRU")}),"Valid Invition : ",(0,b.jsx)("span",{className:"b-text",children:M})]}),(0,b.jsxs)("div",{className:"btns mbtns",children:[(0,b.jsx)(d.Z,{content:t(U?"Ongoing Claim...":"Claim Rewards"),disabled:X,onClick:function(){h.start()}}),U&&(0,b.jsx)("span",{className:"tip",children:"Claim will be done on a daily basis, please check your balance in 24 hours."})]})]}),!p&&(0,b.jsxs)(O.o,{children:[(0,b.jsx)("div",{className:"title font-sans-semibold",children:t("My REwards")}),(0,b.jsxs)("div",{className:"text font-sans-regular",children:["Total Rewards : ",(0,b.jsx)("span",{className:"b-text",children:"".concat(S," CRU")}),"Valid Invition : ",(0,b.jsx)("span",{className:"b-text",children:M})]}),(0,b.jsx)("div",{className:"btns mbtns",children:(0,b.jsx)(d.Z,{content:t("Get Premium"),onClick:function(){}})})]})]})]})})}))(S||(S=(0,i.Z)(["\n  padding: unset !important;\n  .mcontent {\n    margin: unset !important;\n    padding: 0 0 3rem 0 !important;\n    overflow: auto;\n    .share-and-earn {\n      margin: 2.21rem 2.29rem 0 2.39rem;\n      border: 2px solid #000000;\n      border-radius: 16px;\n      display: flex;\n      align-items: center;\n      padding: 1.428571rem 3.571429rem;\n      img {\n        width: 16.214286rem;\n        height: auto;\n        margin-right: 2.142857rem;\n      }\n      .text {\n        font-size: 2.571429rem;\n        line-height: 3.5rem;\n        font-weight: 600;\n        span {\n          color: var(--primary-color);\n        }\n      }\n    }\n    .mcard{\n      .ui.accordion {\n        .title {\n          padding: unset !important;\n        }\n      }\n      .b-text{\n        color: var(--primary-color);\n        font-size: 18px;\n        font-weight: 600;\n        margin-right: 4.285714rem;\n      }\n      .mbtns {\n        button {\n          min-width: 16.428571rem;\n        }\n        .tip {\n          margin-left: 9px;\n          font-size: 10px;\n          color: #999999;\n        }\n      }\n    }\n  }\n\n"]))))},3783:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share-earn",function(){return t(12107)}])}},function(n){n.O(0,[610,872,12,950,774,888,179],(function(){return e=3783,n(n.s=e);var e}));var e=n.O();_N_E=e}]);