(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{97494:function(e,n,t){"use strict";var r=t(67294),i=t(29163),a=t(85893);n.Z=r.memo((0,i.ZP)((function(e){var n=e.src,t=void 0===n?"/images/logo_22x.png":n,r=e.className;return(0,a.jsx)("div",{className:r,children:(0,a.jsx)("img",{src:t})})})).withConfig({displayName:"Logo",componentId:"sc-lchex5-0"})(["display:inline-block;img{display:inline-block;height:2.5rem;width:auto;object-fit:contain;}span{font-size:2.45rem;font-weight:400;line-height:2.45rem;color:white;display:inline-block;}"]))},8670:function(e,n,t){"use strict";t.d(n,{o:function(){return c}});var r=t(67294),i=t(29163),a=t(94184),s=t.n(a),o=t(85893);var c=r.memo((0,i.ZP)((function(e){var n=e.className,t=e.children;return(0,o.jsx)("div",{className:s()(n,"mcard"),children:t})})).withConfig({displayName:"MCard",componentId:"sc-157sg53-0"})(["padding:1.71rem !important;box-shadow:0 0.71rem 1.71rem 0 rgba(0,0,0,0.06) !important;border-radius:1.14rem !important;border:0.07rem solid #EEEEEE !important;margin:2.21rem 2.29rem 0 2.39rem !important;.title{font-size:1.3rem !important;font-weight:600;color:var(--main-color);padding-bottom:1.14rem;.cru-fo{margin-right:0.8rem;}}.text{font-size:1rem;color:var(--secend-color);line-height:1.57rem;}.icon{margin-left:1rem;font-size:1.428571rem;position:relative;top:3px;cursor:pointer;}.bold-text{color:var(--main-color);}a{text-decoration:underline;line-height:1.2rem;cursor:pointer;}.btns{margin-top:1.7rem;button:first-child{margin-right:1rem;}}"]))},60649:function(e,n,t){"use strict";var r=t(94184),i=t.n(r),a=t(96486),s=t.n(a),o=t(11163),c=t(67294),l=t(76736),u=t(35766),m=t(14309),d=t(94983),h=t(29163),p=t(97494),f=t(85893),g=[{path:"/home",icon:"cru-fo-home",name:"Home"},{icon:"cru-fo-file",isParent:!0,name:"My Files"},{path:"/files",name:"Public"},{path:"/files/vault",name:"Vault"},{path:"/setting",icon:"cru-fo-settings",name:"Settings"},{path:"/share-earn",icon:"cru-fo-share-2",name:"Share-and-Earn"},{path:"/user",icon:"cru-fo-user",name:"Premium User"}];var v="15.7rem";n.Z=c.memo((0,h.ZP)((function(e){var n=(0,o.useRouter)(),t=(0,c.useCallback)((function(t,r){var i=r.index,a=g[i];a.path&&a.path!==e.path&&n.push(a.path)}),[e.path]),r=(0,c.useMemo)((function(){return s().findIndex(g,(function(e){return"/share-earn"===e.path}))}),[]),a=function(n){return e.path===n.path};return(0,f.jsxs)(l.Z.Pushable,{as:u.Z,className:i()(e.className,"basic"),children:[(0,f.jsxs)(l.Z,{as:u.Z,animation:"push",direction:"left",visible:!0,className:"basic",children:[(0,f.jsxs)(m.Z,{textAlign:"center",children:[(0,f.jsx)(m.Z.Row,{columns:1,className:"logoPanel",children:(0,f.jsx)(p.Z,{src:"/images/logo_12x.png"})}),(0,f.jsx)(m.Z.Row,{columns:1,children:(0,f.jsx)(d.Z,{fluid:!0,vertical:!0,borderless:!0,children:g.map((function(n,r){var i,s;return(0,f.jsx)(d.Z.Item,{className:(s=n,e.path.startsWith(s.path)&&s.isParent?"active2":""),position:"left",index:r,active:a(n),icon:(0,f.jsx)("span",{className:null!==(i=n.icon)&&void 0!==i?i:"cru-fo-file",style:{opacity:n.icon?1:0}}),name:n.name,onClick:t},"side_menu_".concat(r))}))})})]}),(0,f.jsx)("div",{className:"flex1"}),(0,f.jsx)("img",{className:"share_earn",onClick:function(){return t({},{index:r})},src:"/images/share_earn.png"})]}),(0,f.jsx)(l.Z.Pusher,{children:e.children})]})})).withConfig({displayName:"SideLayout",componentId:"sc-a6jhx7-0"})(["height:100vh;background:white;overflow-y:auto;.ui.sidebar{padding:unset !important;background:#F5F5F5;box-shadow:unset !important;width:",";min-height:821px;display:flex;flex-direction:column;align-items:center;.ui.grid{margin:unset !important;width:100%;}.logoPanel{padding:4.7rem 0;img{height:1.7rem;}}.menu{box-shadow:unset !important;border:unset !important;border-radius:unset !important;background:unset !important;.item{border-radius:0 !important;text-align:left;padding-left:2rem !important;font-weight:500;font-size:1.3rem;color:var(--secend-color);font-family:OpenSans-Regular;&.active{position:relative;color:var(--main-color);border-right:solid 0.2rem var(--primary-color);}&.active2{color:var(--main-color);border-right:unset;background-color:transparent;}span{float:left;margin-right:10px;}}}.share_earn{cursor:pointer;width:15rem;height:auto;margin-bottom:1rem;}}.pusher{width:calc(100vw - ",");height:100vh;min-height:821px;transform:translate3d(",",0,0) !important;overflow:auto !important;background:white;}"],v,v,v))},34111:function(e,n,t){"use strict";t.d(n,{X:function(){return i}});var r=t(67294);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(0,r.useState)(),i=t[0],a=t[1];(0,r.useEffect)((function(){a(void 0),s()}),n);var s=function(){n.length&&n.some((function(e){return!e}))||e().then(a).catch(console.error)};return[i,s]}},13711:function(e,n,t){"use strict";t.d(n,{S:function(){return o}});var r=t(80318),i=t(45129),a=t(96705),s=t(34111);function o(){var e=(0,a.WY)(),n=e.account,t=e.wallet,o=e.member,c="crust"===t,l=(0,s.X)((function(){return(0,i.Y1)(n)}),[n,c]),u=(0,r.Z)(l,2),m=u[0],d=u[1],h=!!(m&&m.deposit&&m.deposit.id);return{isPremiumUser:!(!o||1!==o.member_state)||h,deposit:m,hasDeposit:h,doGetDeposit:d,isCrust:c}}},12107:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var r=t(80318),i=t(11163),a=t(67294),s=t(23499),o=t(35766),c=t(29163),l=t(60954),u=t(92809),m=t(10219),d=t(94184),h=t.n(d),p=t(21004),f=t(65058),g=t(85893),v=["className","title","defActive","content"];function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=a.memo((0,c.ZP)((function(e){var n=e.className,t=e.title,i=e.defActive,a=void 0!==i&&i,s=e.content,o=(0,m.Z)(e,v),c=(0,f.O)(a),l=(0,r.Z)(c,2),u=l[0],d=l[1];return(0,g.jsxs)(p.Z,b(b({className:n},o),{},{children:[(0,g.jsx)(p.Z.Title,{active:u,onClick:function(){return d()},children:(0,g.jsxs)("div",{className:"title font-sans-semibold",children:[t,(0,g.jsx)("span",{className:h()("icon",u?"cru-fo-chevron-up":"cru-fo-chevron-down")})]})}),(0,g.jsx)(p.Z.Content,{active:u,children:s})]}))})).withConfig({displayName:"MAccordion",componentId:"sc-1uwsz4-0"})([""])),w=t(8670),y=t(60649),N=t(18988),O=t(12752),P=t(96705),Z=t(75282);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=t(34111),_=t(13711),R=t(45129),S=t(99056);var I=a.memo((0,c.ZP)((function(e){var n=e.className,t=(0,s.$)().t,c=(0,i.useRouter)(),u=(0,P.WY)().account,m=(0,_.S)(),d=m.isPremiumUser,h=m.isCrust,p=function(){var e=(0,O.qD)(),n=e.api,t=e.alert,r=e.loading,i=(0,P.WY)(),s=(0,a.useState)(!1),o=s[0],c=s[1],l=(0,a.useState)(!1),u=l[0],m=l[1];return(0,a.useEffect)((function(){c(!1),i.account&&"crust"===i.wallet&&n&&i.crust.wallet&&c(!0)}),[n,i]),{start:function(){if(o){r.show(),m(!1);var e=k(k({},i.crust.wallet.signer),{},{signPayload:function(e){return i.crust.wallet.signer.signPayload(e)}});n.setSigner(e),n.tx.system.remark(JSON.stringify({scope:"crustFiles",env:Z.g6,action:"claimRewards"})).signAndSend(i.account,{nonce:-1,tip:0},(function(e){n.setSigner(void 0),e.status.isFinalized&&(r.hide(),m(!0))})).catch((function(e){"string"===typeof e?t.error(e):console.error(e),r.hide()}))}},ready:o,finish:u}}(),f=(0,E.X)((function(){return(0,R.rS)(u)}),[u,h]),v=(0,r.Z)(f,2),x=v[0],b=v[1];(0,a.useEffect)((function(){var e;if(p.finish){var n=3;e=setInterval((function(){if(n<=0)return clearInterval(e),void(e=null);n-=1,b()}),5e3)}return function(){return e&&clearInterval(e)}}),[p.finish]);var C=x&&x.pendingReward,I=(0,a.useMemo)((function(){return(0,S.vr)("".concat((null===x||void 0===x?void 0:x.pendingReward)||"0"))}),[x]),z=(0,a.useMemo)((function(){return(0,S.vr)("".concat((null===x||void 0===x?void 0:x.claimedReward)||"0"))}),[x]),D=(0,a.useMemo)((function(){return x&&x.totalInvition}),[x]),M=p.finish||x&&x.claimOngoing,U=!p.ready||!C||M;return(0,g.jsx)(y.Z,{path:"/share-earn",children:(0,g.jsxs)(o.Z,{basic:!0,className:n,children:[(0,g.jsx)(N.Z,{}),(0,g.jsxs)(o.Z,{basic:!0,className:"mcontent",children:[(0,g.jsxs)("div",{className:"share-and-earn",children:[(0,g.jsx)("img",{src:"/images/share_earn2.png"}),(0,g.jsxs)("div",{className:"text",children:["Share files to your friends and invite them to use ",(0,g.jsx)("span",{children:"Crust Files"}),". Enjoy and Earn ",(0,g.jsx)("span",{children:"$CRU"})," !!!"]})]}),(0,g.jsx)(w.o,{children:(0,g.jsx)(j,{title:"How to Share-and-Earn?"})}),(0,g.jsx)(w.o,{children:(0,g.jsx)(j,{title:"Learn about more detailed rules"})}),(0,g.jsx)(w.o,{children:(0,g.jsx)(j,{title:"Get Crust Wallet and CRU"})}),d&&(0,g.jsxs)(w.o,{children:[(0,g.jsx)("div",{className:"title font-sans-semibold",children:t("My Rewards")}),(0,g.jsxs)("div",{className:"text font-sans-regular",children:["Pending Claim Rewards : ",(0,g.jsx)("span",{className:"b-text",children:"".concat(I," CRU")}),"Claimed Rewards : ",(0,g.jsx)("span",{className:"b-text",children:"".concat(z," CRU")}),"Valid Invition : ",(0,g.jsx)("span",{className:"b-text",children:D})]}),(0,g.jsxs)("div",{className:"btns mbtns",children:[(0,g.jsx)(l.Z,{content:t(M?"Ongoing Claim...":"Claim Rewards"),disabled:U,onClick:function(){p.start()}}),M&&(0,g.jsx)("span",{className:"tip",children:"Claim will be done on a daily basis, please check your balance in 24 hours."})]})]}),!d&&(0,g.jsxs)(w.o,{children:[(0,g.jsx)("div",{className:"title font-sans-semibold",children:t("My Rewards")}),(0,g.jsxs)("div",{className:"text font-sans-regular",children:["Total Rewards : ",(0,g.jsx)("span",{className:"b-text",children:"".concat(I," CRU")}),"Valid Invition : ",(0,g.jsx)("span",{className:"b-text",children:D})]}),(0,g.jsx)("div",{className:"btns mbtns",children:(0,g.jsx)(l.Z,{content:t("Get Premium"),onClick:function(){return c.push("/user")}})})]})]})]})})})).withConfig({displayName:"share-earn",componentId:"sc-59zcdp-0"})(["padding:unset !important;.mcontent{margin:unset !important;padding:0 0 3rem 0 !important;overflow:auto;.share-and-earn{margin:2.21rem 2.29rem 0 2.39rem;border:2px solid #000000;border-radius:16px;display:flex;align-items:center;padding:1.428571rem 3.571429rem;img{width:16.214286rem;height:auto;margin-right:2.142857rem;}.text{font-size:2.571429rem;line-height:3.5rem;font-weight:600;span{color:var(--primary-color);}}}.mcard{.ui.accordion{.title{padding:unset !important;}}.b-text{color:var(--primary-color);font-size:18px;font-weight:600;margin-right:4.285714rem;}.mbtns{button{min-width:16.428571rem;}.tip{margin-left:9px;font-size:10px;color:#999999;}}}}"]))},3783:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share-earn",function(){return t(12107)}])}},function(e){e.O(0,[794,12,774,888,179],(function(){return n=3783,e(e.s=n);var n}));var n=e.O();_N_E=n}]);