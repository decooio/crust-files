(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{8670:function(n,e,t){"use strict";t.d(e,{o:function(){return d}});var i,r=t(52209),s=t(67294),a=t(29163),o=t(94184),c=t.n(o),l=t(85893);var d=s.memo((0,a.ZP)((function(n){var e=n.className,t=n.children;return(0,l.jsx)("div",{className:c()(e,"mcard"),children:t})}))(i||(i=(0,r.Z)(["\n    padding: 1.71rem !important;\n    box-shadow: 0 0.71rem 1.71rem 0 rgba(0, 0, 0, 0.06) !important;\n    border-radius: 1.14rem !important;\n    border: 0.07rem solid #EEEEEE !important;\n    margin: 2.21rem 2.29rem 0 2.39rem !important;\n  \n    .title {\n      font-size: 1.3rem !important;\n      font-weight: 600;\n      color: var(--main-color);\n      padding-bottom: 1.14rem;\n      .cru-fo {\n        margin-right: 0.8rem;\n      }\n    }\n\n    .text {\n      font-size: 1rem;\n      color: var(--secend-color);\n      line-height: 1.57rem;\n    }\n    .icon {\n      margin-left: 1rem;\n      font-size: 1.428571rem;\n      position: relative;\n      top: 3px;\n      cursor: pointer;\n    }\n    .bold-text {\n      color: var(--main-color);\n    }\n    \n    a {\n      text-decoration: underline;\n      line-height: 1.2rem;\n      cursor: pointer;\n    }\n\n    .btns {\n      margin-top: 1.7rem;\n      button:first-child {\n        margin-right: 1rem;\n      }\n    }\n"]))))},34111:function(n,e,t){"use strict";t.d(e,{X:function(){return r}});var i=t(67294);function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(0,i.useState)(),r=t[0],s=t[1];(0,i.useEffect)((function(){a()}),e);var a=function(){e.length&&e.some((function(n){return!n}))||n().then(s).catch(console.error)};return[r,a]}},76435:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return E}});var i=t(52209),r=t(80318),s=t(11384),a=t(96486),o=t.n(a),c=t(67294),l=t(35766),d=t(29163),m=t(60954),u=t(8670),p=t(60649),h=t(43913),f=t(75282),g=t(92809),x=t(12752),v=t(96705);function b(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function j(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?b(Object(t),!0).forEach((function(e){(0,g.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var w,N=t(34111),y=t(45129),k=t(99056),S=t(85893);var E=c.memo((0,d.ZP)((function(n){var e=n.className,t=(0,v.WY)(),i="crust"===t.wallet,a=(0,c.useState)(),d=a[0],g=a[1],b=(0,c.useState)(),w=b[0],E=b[1],O=(0,c.useMemo)((function(){return o().debounce((function(n){var e=n.target.value;g(""),E(""),e&&(0,y.lK)(e).then((function(n){n!==t.account?E(n):g("It can't be your own")})).catch((function(n){return g("Not found")}))}),300)}),[t.account]),P=(0,c.useState)(),_=P[0],z=P[1],C=(0,N.X)((function(){return(0,y.w2)()})),R=(0,r.Z)(C,1)[0],D=(0,N.X)((function(){return(0,y.Y1)(t.account)}),[t.account]),M=(0,r.Z)(D,2),Z=M[0],U=M[1],F=Z&&Z.deposit&&Z.deposit.id,I=i&&!F,W=i&&F,Y=i&&(t.member&&1===t.member.member_state||F),A=(0,N.X)((function(){return(0,y.Pk)()})),B=(0,r.Z)(A,1)[0],X=(0,c.useMemo)((function(){return(0,k.zw)(_)}),[_]),L=(0,c.useMemo)((function(){if(!F)return"-";var n=(new Date).getSeconds();return Z.deposit.expire_timestamp<=n?(0,k.zw)(Z.deposit.claim_amount):(0,k.zw)(Z.deposit.deposit_amount)}),[F]),T=(0,c.useMemo)((function(){return(0,k.zw)((null===R||void 0===R?void 0:R.guaranteeAmount)||"")}),[R]),q=(0,c.useMemo)((function(){return(0,k.zw)((null===R||void 0===R?void 0:R.guaranteeDiscountWithReferer)||"")}),[R]),G=(0,c.useMemo)((function(){if(!R||!W)return 6;var n=new Number(R.guaranteePeriod).valueOf();return Math.round(n/60/60/24/30)}),[W,R]),H=(0,c.useMemo)((function(){return F?(0,s.Z)(1e3*Z.deposit.expire_timestamp,"yyyy-MM-dd"):"--:--:--"}),[F]);(0,c.useEffect)((function(){R&&z(w?R.guaranteeDiscountWithReferer:R.guaranteeAmount)}),[R,w]);var J=function(n,e,t){var i=(0,x.qD)(),r=i.api,s=i.alert,a=i.loading,o=(0,v.WY)(),l=(0,c.useState)(!1),d=l[0],m=l[1],u=(0,c.useState)(!1),p=u[0],h=u[1];return(0,c.useEffect)((function(){m(!1),o.account&&"crust"===o.wallet&&n&&e&&r&&o.crust.wallet&&m(!0)}),[r,o,n,e]),{start:function(){if(d){h(!1),a.show();var i=j(j({},o.crust.wallet.signer),{},{signPayload:function(n){return console.info("payload:",n),o.crust.wallet.signer.signPayload(n)}});r.setSigner(i);var c=e;console.info("deposit:",n,e,c);var l=r.tx.balances.transfer(n,c),m=r.tx.system.remark(JSON.stringify({scope:"crustFiles",env:f.g6,action:"deposit",share_from:t}));r.tx.utility.batchAll([l,m]).signAndSend(o.account,{nonce:-1,tip:0},(function(n){r.setSigner(void 0),n.status.isInBlock&&(a.hide(),h(!0))})).catch((function(n){"string"===typeof n?s.error(n):console.error(n),a.hide()}))}},ready:d,finish:p}}(B,_,w);(0,c.useEffect)((function(){U()}),[J.finish]);var K=function(){var n=(0,x.qD)(),e=n.api,t=n.alert,i=n.loading,r=(0,v.WY)(),s=(0,c.useState)(!1),a=s[0],o=s[1],l=(0,c.useState)(!1),d=l[0],m=l[1];return(0,c.useEffect)((function(){o(!1),r.account&&"crust"===r.wallet&&e&&r.crust.wallet&&o(!0)}),[e,r]),{start:function(){if(a){i.show(),m(!1);var n=j(j({},r.crust.wallet.signer),{},{signPayload:function(n){return console.info("payload:",n),r.crust.wallet.signer.signPayload(n)}});e.setSigner(n),e.tx.system.remark(JSON.stringify({scope:"crustFiles",env:f.g6,action:"claimDeposit"})).signAndSend(r.account,{nonce:-1,tip:0},(function(n){e.setSigner(void 0),n.status.isInBlock&&(i.hide(),m(!0))})).catch((function(n){"string"===typeof n?t.error(n):console.error(n),i.hide()}))}},ready:a,finish:d}}(),Q=J.finish||Z&&Z.depositOngoing,V=!J.ready||!_||Q,$=K.finish||Z&&Z.claimOngoing,nn=!K.ready||$;return(0,S.jsx)(p.Z,{path:"/user",children:(0,S.jsxs)(l.Z,{basic:!0,className:e,children:[(0,S.jsx)(h.Z,{}),(0,S.jsxs)(l.Z,{basic:!0,className:"mcontent",children:[(0,S.jsxs)("div",{className:"user-Info",children:[(0,S.jsx)("div",{className:"title",children:Y?"You are Premium User":"You are Trial User"}),(0,S.jsxs)("div",{className:"sub-text",children:["Web3 Identity Logged-in\uff1a",(0,S.jsx)("span",{children:t.account})]})]}),(0,S.jsxs)("div",{className:"user-premium-panel",children:[(0,S.jsx)("div",{className:"title",children:"Why Premium?"}),(0,S.jsxs)("div",{className:"permium-trial",children:[(0,S.jsxs)("div",{className:"mtable premium",children:[(0,S.jsx)("div",{className:"t-title",children:"Premium User"}),(0,S.jsxs)("div",{className:"t-item",children:["End-2-end File Encryption",(0,S.jsx)("img",{className:"icon",src:"/images/icon_hook.png"})]}),(0,S.jsxs)("div",{className:"t-item",children:["Maximum Upload Size=",(0,S.jsx)("span",{children:"1GB"})]}),(0,S.jsxs)("div",{className:"t-item",children:[(0,S.jsx)("span",{children:"Renew"})," On-chain Storage Order",(0,S.jsx)("span",{className:"space"}),"Place ",(0,S.jsx)("span",{children:"\u201cPermanent Storage Order\u201d"})]}),(0,S.jsx)("div",{className:"t-item",children:"More Space"}),(0,S.jsxs)("div",{className:"t-item",children:[(0,S.jsx)("span",{children:"Claim Rewards"})," from \u201cShare-and-Earn\u201d"]})]}),(0,S.jsxs)("div",{className:"mtable trial",children:[(0,S.jsx)("div",{className:"t-title",children:"Trial User"}),(0,S.jsxs)("div",{className:"t-item",children:["End-2-end File Encryption",(0,S.jsx)("img",{className:"icon",src:"/images/icon_fork.png"})]}),(0,S.jsxs)("div",{className:"t-item",children:["Maximum Upload Size=",(0,S.jsx)("span",{children:"40MB"})]}),(0,S.jsxs)("div",{className:"t-item",children:["Storage Order Expires in ",(0,S.jsx)("span",{children:"6 Months"})]}),(0,S.jsxs)("div",{className:"t-item",children:[(0,S.jsx)("span",{children:"Limited"})," Space"]}),(0,S.jsxs)("div",{className:"t-item",children:[(0,S.jsx)("span",{children:"Cannot"})," Claim Rewards from \u201cShare-and-Earn\u201d"]})]})]})]}),!i&&(0,S.jsxs)(u.o,{children:[(0,S.jsx)("div",{className:"title font-sans-semibold",children:"How to get a Premium"}),(0,S.jsx)("div",{className:"text font-sans-regular",children:"Log in with Crust Wallet and Deposit CRU to get a Premium. "}),(0,S.jsx)("div",{className:"btns mbtns",children:(0,S.jsx)(m.Z,{content:"Download Crust Wallet",onClick:function(){return window.open(f.up,"_blank")}})})]}),I&&(0,S.jsxs)(u.o,{children:[(0,S.jsx)("div",{className:"title font-sans-semibold",children:"Get a Premium"}),(0,S.jsxs)("div",{className:"text font-sans-regular",children:["A Premium user plan asks for ",T," CRU deposit. If you have an invitation code, which is the Metaverse Citizen ID of your inviter, the deposit is ",q," CRU."]}),(0,S.jsxs)("div",{className:"btns mbtns",children:[(0,S.jsx)("input",{className:"input-Nickname",placeholder:"Enter Invitoe\u2019s Nickname\uff08Leave blank if you have no invitor.\uff09",onChange:O}),(0,S.jsx)("span",{className:"input-NickError",children:d}),(0,S.jsx)("br",{}),(0,S.jsx)(m.Z,{content:Q?"Please wait for transaction finalization\u2026":"Deposit ".concat(X," CRU"),disabled:V,onClick:function(){J.start()}}),(0,S.jsx)("a",{href:"/docs/CrustFiles_ShareandEarn",target:"_blank",children:"How to deposit?"})]})]}),W&&(0,S.jsxs)(u.o,{children:[(0,S.jsx)("div",{className:"title font-sans-semibold",children:"Redeem Your Deposit"}),(0,S.jsxs)("div",{className:"text font-sans-regular",children:["You can redeem back your full deposit after ",G," months from your deposit date or half of the deposit in no more than ",G," months from your deposit date.",(0,S.jsx)("br",{}),"Full Redeem on ",(0,S.jsx)("span",{className:"font-sans-semibold",style:{color:"#333333"},children:H})," (",G," months after your deposit)"]}),(0,S.jsxs)("div",{className:"btns mbtns",children:[(0,S.jsx)(m.Z,{content:$?"Ongoing Redeem...":"Redeem ".concat(L," CRU"),disabled:nn,onClick:function(){K.start()}}),(0,S.jsx)("a",{href:"/docs/CrustFiles_ShareandEarn",target:"_blank",children:"Learn more about Redeem Rules."})]}),$&&(0,S.jsx)("div",{className:"tip",children:"Redeem will be done in less than 24 hours. Check your balance later."})]})]})]})})}))(w||(w=(0,i.Z)(["\n  padding: unset !important;\n  .mcontent {\n    margin: unset !important;\n    padding: 0 0 3rem 0 !important;\n    overflow: auto;\n  }\n  .mcard{\n    a {\n      font-size: 10px;\n      text-decoration: underline;\n      color: #999999;\n      margin-left: 9px;\n    }\n    .mbtns {\n      button {\n        min-width: 27rem;\n      }\n    }\n    .tip {\n      margin-top: 1rem;\n      line-height: 20px;\n      color: #999999;\n    }\n  }\n\n  .user-Info {\n    margin: 2.21rem 2.29rem 0 2.39rem !important;\n    .title {\n      margin-bottom: 8px;\n      font-size: 24px;\n      font-family: OpenSans-SemiBold;\n      line-height: 33px;\n    }\n    .sub-text {\n      font-size: 14px;\n      line-height: 22px;\n      color: var(--secend-color);\n      span {\n        color: var(--main-color);\n        font-family: OpenSans-SemiBold;\n      }\n    }\n  }\n\n  .user-premium-panel {\n    margin: 2.21rem 2.29rem 0 2.39rem !important;\n    .title {\n      margin-bottom: 16px;\n      font-size: 24px;\n      font-family: OpenSans-SemiBold;\n      line-height: 33px;\n    }\n    .permium-trial {\n      display: flex;\n      .mtable {\n        flex: 1;\n        border-radius: 16px;\n        overflow: hidden;\n        .t-title,.t-item {\n            padding: 0 24px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .t-title {\n          line-height: 54px;\n          height: 54px;\n          text-align: center;\n          color: white;\n          font-size: 18px;\n          font-weight: 600;\n        }\n        .t-item {\n          font-weight: 500;\n          font-size: 16px;\n          line-height: 50px;\n          height: 50px;\n          color: var(--main-color);\n          span {\n            color: var(--primary-color);\n          }\n        }\n        .icon {\n          height: 50px;\n          width: auto;\n          vertical-align: top;\n          margin-left: 16px;\n          display: inline-block;\n          object-fit: none;\n        }\n        .space {\n          margin-left: 24px;\n        }\n      }\n      .premium {\n        background: #FFEEDA;\n        margin-right: 32px;\n        .t-item:nth-child(2n + 1){\n          background-color: rgba(255,255,255,0.45);\n        }\n        .t-title {\n          background-color: var(--primary-color);\n        }\n      }\n      .trial {\n        background: #eeeeee;\n        /* margin-right: 32px; */\n        .t-item:nth-child(2n + 1){\n          background-color: rgba(255,255,255,0.45);\n        }\n        .t-title {\n          background-color: black;\n        }\n      }\n    }\n  }\n\n  .input-Nickname {\n    display: inline-block;\n    min-width: 27rem;\n    margin-bottom: 12px;\n    height: 38px;\n    line-height: 38px;\n    border: 1px solid #999999;\n    outline: unset;\n    border-radius: 8px;\n    padding-left: 16px;\n    font-size: 10px;\n    &::placeholder{\n      color: #999999;\n    }\n  }\n  .input-NickError {\n    font-size: 10px;\n    color: #F37565;\n    margin-left: 12px;\n  }\n"]))))},18817:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t(76435)}])}},function(n){n.O(0,[610,951,384,950,774,888,179],(function(){return e=18817,n(n.s=e);var e}));var e=n.O();_N_E=e}]);